<!--
 * @Author       : zhaixiaowei@xdf.cn
 * @Date         : 2022-09-15 16:18:05
 * @LastEditors  : zhaixiaowei@xdf.cn
 * @LastEditTime : 2022-09-15 16:30:13
 * @Description  : æè¿°ä¿¡æ¯
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<a href="https://juejin.cn/post/7127916577684471845"></a>
<!-- 1.html å†…å®¹ -->
Â 
<!-- http://127.0.0.1:8000/1.html -->
Â 

<body>
  Â  Â  æˆ‘æ˜¯ 1.html, ä¸‹é¢åµŒå¥— 2.html
  Â  Â  Â <iframe src="http://127.0.0.1:8000/2.html"></iframe>
  Â  Â  Â 
  <script>
    function hello () { console.log('this is 1.html') }

    var iframe = document.getElementsByTagName('iframe')[0];
    console.log('contentWindow ğŸ¥', iframe.contentWindow); // èƒ½è®¿é—®
    console.log('contentDocument ğŸ¥', iframe.contentDocument); // èƒ½è®¿é—®

    // æ³¨æ„è®¿é—®æ–¹å¼, éœ€è¦åœ¨ onload åæ‰èƒ½å–åˆ°å€¼
    console.log(iframe.contentWindow.hello()) // Uncaught TypeError: iframe.contentWindow.hello is not a function

    iframe.onload = function () {
      console.log(iframe.contentWindow.hello()) // this is 2.html

      //  è¾“å‡º Location å¯¹è±¡ï¼Œ ä¾ç„¶è¦åœ¨ iframe.onload ä¸­è®¿é—®
      console.log('contentWindow.location ğŸ¥', iframe.contentWindow.location)
      //  iframe.contentWindow.location.host : 127.0.0.1:8000
      //  xxx.hash: Â  Â  ""
      //  xxx.host: Â  Â  "127.0.0.1:8000"
      //  xxx.hostname: "127.0.0.1"
      //  xxx.href: Â  Â  "http://127.0.0.1:8000/2.html"
      //  xxx.origin: Â  "http://127.0.0.1:8000"
      //  xxx.pathname: "/2.html"
      //  xxx.port: Â  Â  "8000"    
      //  xxx.protocol: "http:"
      //  ...

      // æœ‰ç›¸åŒçš„æº æˆ‘ä»¬å¯ä»¥è¿›è¡Œä»»ä½•æ“ä½œ
      iframe.contentDocument.body.innerHTML('<p>hi, i am ur father !</p>');
      iframe.contentDocument.getElementsByTagName('p');
    })

    iframe.contentWindow.location = 'http://www.360doc.com'; // å¯ä»¥ç›´æ¥ä¿®æ”¹ iframe åœ°å€, ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ã€‚ æœ‰çš„ç½‘ç«™ä¸æ”¯æŒè¢«iframeå¼•ç”¨, æ‰€ä»¥ä¼šæŠ¥é”™ã€‚ æ³¨æ„åŒºåˆ†é”™è¯¯ä¿¡æ¯ã€‚
  </script>
  Â 
</body>


Â 
<!-- 2.html å†…å®¹ -->
Â 
<!-- http://127.0.0.1:8000/2.html -->
Â 

<body>
  Â  Â  æˆ‘æ˜¯ 2.html
  Â  Â  Â 
  Â  Â  Â 
  <script>
    function hello () { console.log('this is 2.html') }
  </script>
  Â 
</body>

</html>