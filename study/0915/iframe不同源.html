<!--
 * @Author       : zhaixiaowei@xdf.cn
 * @Date         : 2022-09-15 16:26:10
 * @LastEditors  : zhaixiaowei@xdf.cn
 * @LastEditTime : 2022-09-15 16:26:59
 * @Description  : æè¿°ä¿¡æ¯
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<a href="https://juejin.cn/post/7127916577684471845"></a>
<!-- 1.html å†…å®¹ -->
Â 
<!-- http://127.0.0.1:8000/1.html -->
Â 

<body>
  Â  Â  æˆ‘æ˜¯ 1.html, ä¸‹é¢åµŒå¥— 2.html
  Â  Â  Â 
  <!-- ç«¯å£ä¸åŒ, ä¸åŒæº -->
  Â  Â  Â <iframe src="http://127.0.0.1:8001/2.html"></iframe>
  Â  Â  Â 
  <script>
    function hello () { console.log('this is 1.html') }

    var iframe = document.getElementsByTagName('iframe')[0];
    console.log('contentWindow ğŸ¥', iframe.contentWindow); // å¯ä»¥è·å–å¯¹å†…éƒ¨ window çš„å¼•ç”¨
    console.log('contentDocument ğŸ¥', iframe.contentDocument); // ç©ºçš„ document å¯¹è±¡

    iframe.onload = function () {
      console.log(iframe.contentWindow.hello()) // Uncaught DOMException: Blocked a frame with origin "http://127.0.0.1:8000" from accessing a cross-origin frame.


      // æ— æ³•è¯»å– iframe ä¸­é¡µé¢çš„ URL
      console.log(iframe.contentWindow.location)
      // LocationÂ {then: undefined, Symbol(Symbol.toStringTag): undefined, Symbol(Symbol.hasInstance): undefined, Symbol(Symbol.isConcatSpreadable): undefined, replace: Æ’}


      console.log(iframe.contentWindow.location.href) // Uncaught DOMException: Blocked a frame with origin "http://127.0.0.1:8000" from accessing a cross-origin frame. 
    })


    iframe.contentWindow.location = 'http://www.360doc.com'; // å¯ä»¥ç›´æ¥ä¿®æ”¹ iframe åœ°å€, ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼Œä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ã€‚ 
  </script>
  Â 
</body>
Â 
Â 
Â 
<!-- 2.html å†…å®¹ -->
Â 
<!-- http://127.0.0.1:8001/2.html -->
Â 

<body>
  Â  Â  æˆ‘æ˜¯ 2.html
  Â  Â  Â 
  Â  Â  Â 
  <script>
    function hello () { console.log('this is 2.html') }
  </script>
  Â 
</body>

</html>